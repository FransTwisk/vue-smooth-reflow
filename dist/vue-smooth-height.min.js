window.SmoothHeight=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r,n,o,i,s){try{var a=t[i](s),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(n,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={methods:{$smoothReflow:function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._smoothElements.push(new f(t,this.$el))}.bind(this);Array.isArray(t)?t.forEach(e):e(t)},$unsmoothReflow:function(t){var e=function(t){var e=this.$el,r=this._smoothElements.findIndex(function(r){return l(e,r.options.el)===l(e,t.el)});-1!=r?this._smoothElements[r].scheduleRemoval():console.error("VSR_ERROR: $unsmoothReflow failed due to invalid el option")}.bind(this);Array.isArray(t)?t.forEach(e):e(t)}},beforeCreate:function(){var t=this;this._smoothElements=[],this._endListener=function(e){var r=!0,n=!1,o=void 0;try{for(var i,s=t._smoothElements[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)i.value.endListener(e)}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}},mounted:function(){this.$el.addEventListener("transitionend",this._endListener,{passive:!0})},destroyed:function(){this.$el.removeEventListener("transitionend",this._endListener)},beforeUpdate:function(){a(this);var t=!0,e=!1,r=void 0;try{for(var n,o=this._smoothElements[Symbol.iterator]();!(t=(n=o.next()).done);t=!0)n.value.setBeforeValues()}catch(t){e=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}},updated:function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var s=t.apply(e,r);function a(t){i(s,n,o,a,l,"next",t)}function l(t){i(s,n,o,a,l,"throw",t)}a(void 0)})}}(regeneratorRuntime.mark(function t(){var e,r,n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:for(e=!0,r=!1,n=void 0,t.prev=5,o=this._smoothElements[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.doSmoothReflow();t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),r=!0,n=t.t0;case 13:t.prev=13,t.prev=14,e||null==o.return||o.return();case 16:if(t.prev=16,!r){t.next=19;break}throw n;case 19:return t.finish(16);case 20:return t.finish(13);case 21:a(this);case 22:case"end":return t.stop()}},t,this,[[5,9,13,21],[14,,16,20]])}));return function(){return t.apply(this,arguments)}}()};function a(t){for(var e=t._smoothElements.length;e--;){var r=t._smoothElements[e];r.isRemoved&&(r.stopTransition(),t._smoothElements.splice(e,1))}}function l(t,e){return"string"==typeof e?t.matches(e)?t:t.querySelector(e):e}var u={INACTIVE:"INACTIVE",ACTIVE:"ACTIVE"},f=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){n(t,e,r[e])})}return t}({el:r,property:"height",transitionEvent:null,hideOverflow:!0,debug:!1},e),i=this.parsePropertyOption(o.property);o.transition||(o.transition=i.map(function(t){return"".concat(t," .5s")}).join(","));var s={$componentEl:r,$smoothEl:null,properties:i,beforeRect:{},afterRect:{},state:u.INACTIVE,isRemoved:!1};Object.assign(this,{options:o},s),this.endListener=this.endListener.bind(this)}return function(t,e,r){e&&o(t.prototype,e)}(t,[{key:"transitionTo",value:function(t){this.state=t}},{key:"parsePropertyOption",value:function(t){var e=[];return"string"==typeof t?e.push(t):Array.isArray(t)&&(e=t),e}},{key:"findRegisteredEl",value:function(){var t=this.$componentEl,e=this.options;return t?l(t,e.el):null}},{key:"setBeforeValues",value:function(){var t=this.findRegisteredEl();this.afterRect={};var e={};t&&(e=t.getBoundingClientRect()),this.beforeRect=e,this.state===u.ACTIVE&&(this.stopTransition(),this.debug("Transition was interrupted."))}},{key:"didValuesChange",value:function(t,e){var r=t,n=e,o=!0,i=!1,s=void 0;try{for(var a,l=this.properties[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var u=a.value;if("transform"===u&&(r.top!==n.top||r.left!==n.left))return!0;if(r[u]!==n[u])return!0}}catch(t){i=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return!1}},{key:"doSmoothReflow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data update",e=this.findRegisteredEl();if(!e)return this.debug("Could not find registered el."),void this.transitionTo(u.INACTIVE);if(this.state!==u.ACTIVE){var r=this.beforeRect,n=this.properties,o=this.options;this.$smoothEl=e,this.transitionTo(u.ACTIVE);var i="string"==typeof t?t:t.target;this.debug("Reflow triggered by:",i);var s=e.getBoundingClientRect();if(this.afterRect=s,!this.didValuesChange(r,s))return this.debug("Property values did not change."),void this.transitionTo(u.INACTIVE);this.debug("beforeRect",r),this.debug("afterRect",s);var a=window.getComputedStyle(e);if(o.hideOverflow){var l=a.overflowY,f=a.overflowX;this.overflowX=f,this.overflowY=l,e.style.overflowX="hidden",e.style.overflowY="hidden"}var c=!0,h=!1,v=void 0;try{for(var d,y=n[Symbol.iterator]();!(c=(d=y.next()).done);c=!0){var p=d.value;if("transform"===p){var m=r.left-s.left,b=r.top-s.top;e.style.transform="translate(".concat(m,"px, ").concat(b,"px)")}else e.style[p]=r[p]+"px"}}catch(t){h=!0,v=t}finally{try{c||null==y.return||y.return()}finally{if(h)throw v}}e.offsetHeight;var g=[a.transition,o.transition].filter(function(t){return t}).join(",");e.style.transition=g;var w=!0,E=!1,R=void 0;try{for(var O,x=n[Symbol.iterator]();!(w=(O=x.next()).done);w=!0){var T=O.value;"transform"===T?e.style.transform="":e.style[T]=s[T]+"px"}}catch(t){E=!0,R=t}finally{try{w||null==x.return||x.return()}finally{if(E)throw R}}}}},{key:"endListener",value:function(t){var e=this.$smoothEl,r=t.target,n=this.properties;e===r?n.includes(t.propertyName)&&(this.stopTransition(),this.setBeforeValues()):this.isRegisteredEventEmitter(e,t)&&this.doSmoothReflow(t)}},{key:"isRegisteredEventEmitter",value:function(t,e){var r=e.target,n=this.options.transitionEvent;if(null===n||0===Object.keys(n).length)return!1;var o=n.selector,i=n.propertyName;if(null!=i&&i!==e.propertyName)return!1;if(null!=o&&!r.matches(o))return!1;if(-1===this.properties.indexOf("transform")){var s=!1,a=e.composedPath?e.composedPath():[],l=!0,u=!1,f=void 0;try{for(var c,h=a[Symbol.iterator]();!(l=(c=h.next()).done);l=!0)if(t===c.value){s=!0;break}}catch(t){u=!0,f=t}finally{try{l||null==h.return||h.return()}finally{if(u)throw f}}if(!s)return!1}return!0}},{key:"stopTransition",value:function(){var t=this.$smoothEl,e=this.options,r=this.overflowX,n=this.overflowY,o=this.properties,i=!0,s=!1,a=void 0;try{for(var l,f=o[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var c=l.value;t.style[c]=null}}catch(t){s=!0,a=t}finally{try{i||null==f.return||f.return()}finally{if(s)throw a}}e.hideOverflow&&(t.style.overflowX=r,t.style.overflowY=n),t.style.transition=null,this.transitionTo(u.INACTIVE)}},{key:"scheduleRemoval",value:function(){this.isRemoved=!0}},{key:"debug",value:function(){var t;if(this.options.debug){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).log.apply(t,["VSR_DEBUG:"].concat(r))}}}]),t}(),c=s;e.default=c}]).default;